{
  "pluginAlias": "2NIntercom",
  "pluginType": "platform",
  "singular": true,
  "headerDisplay": "Homebridge 2N Intercom Plugin - Complete solution for 2N intercoms with door control, video streaming, and doorbell notifications",
  "footerDisplay": "For help and support visit: [GitHub Repository](https://github.com/mastalir1980/homebridge-2n-intercom)",
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Platform Name",
        "type": "string",
        "default": "2N Intercom",
        "required": true,
        "description": "Name for this platform instance"
      },
      "host": {
        "title": "2N Intercom IP Address",
        "type": "string",
        "format": "ipv4",
        "required": true,
        "placeholder": "192.168.1.100",
        "description": "IP address of your 2N intercom device"
      },
      "user": {
        "title": "Username",
        "type": "string",
        "required": true,
        "placeholder": "admin",
        "description": "Username for 2N intercom authentication"
      },
      "pass": {
        "title": "Password",
        "type": "string",
        "required": true,
        "description": "Password for 2N intercom authentication"
      },
      "doorSwitchNumber": {
        "title": "Door Relay Number",
        "type": "integer",
        "default": 1,
        "minimum": 1,
        "maximum": 4,
        "required": true,
        "oneOf": [
          { "title": "Relay 1", "enum": [1] },
          { "title": "Relay 2", "enum": [2] },
          { "title": "Relay 3", "enum": [3] },
          { "title": "Relay 4", "enum": [4] }
        ],
        "description": "Select which relay controls your door lock (1-4)"
      },
      "enableDoorbell": {
        "title": "Enable Doorbell Notifications",
        "type": "boolean",
        "default": true,
        "description": "Enable doorbell button press notifications in HomeKit"
      },
      "videoQuality": {
        "title": "Video Stream Quality",
        "type": "string",
        "default": "vga",
        "required": true,
        "oneOf": [
          {
            "title": "VGA (640x480@15fps) - Recommended",
            "enum": ["vga"],
            "description": "Native 2N resolution, fastest startup, lowest bandwidth"
          },
          {
            "title": "HD Standard (Apple Default)",
            "enum": ["hd"],
            "description": "Standard Apple HomeKit quality, higher bandwidth"
          }
        ],
        "description": "Choose video stream quality. VGA is recommended for optimal performance."
      },
      "deviceType": {
        "title": "Device Type in HomeKit",
        "type": "string",
        "default": "garage",
        "required": true,
        "oneOf": [
          {
            "title": "Garage Door - Shows as garage door opener",
            "enum": ["garage"],
            "description": "Best for automatic doors/gates, shows open/close animation"
          },
          {
            "title": "Door Lock - Shows as door lock",
            "enum": ["lock"],
            "description": "Traditional door lock with lock/unlock actions"
          },
          {
            "title": "Switch - Shows as light switch",
            "enum": ["switch"],
            "description": "Simple on/off switch (legacy behavior)"
          },
          {
            "title": "Outlet - Shows as power outlet",
            "enum": ["outlet"],
            "description": "Shows as controllable power outlet"
          }
        ],
        "description": "How the device appears in HomeKit. Garage door is recommended for gates/automatic doors."
      },
      "protocol": {
        "title": "API Protocol",
        "type": "string",
        "default": "https",
        "required": true,
        "oneOf": [
          {
            "title": "HTTPS - Secure (Recommended)",
            "enum": ["https"],
            "description": "Encrypted connection, more secure"
          },
          {
            "title": "HTTP - Insecure",
            "enum": ["http"],
            "description": "Unencrypted connection, faster but less secure"
          }
        ],
        "description": "Protocol for API communication. HTTPS is recommended for security."
      },
      "verifySSL": {
        "title": "Verify SSL Certificates (HTTPS only)",
        "type": "boolean",
        "default": false,
        "description": "Enable SSL certificate verification. Keep disabled for self-signed certificates (typical for 2N intercoms)."
      },
      "snapshotRefreshInterval": {
        "title": "Snapshot Refresh Interval (seconds)",
        "type": "number",
        "default": 10,
        "minimum": 5,
        "maximum": 300,
        "description": "How often HomeKit requests fresh snapshots (5-300 seconds). Lower values = more frequent updates but higher load."
      }
    },
    "required": ["name", "host", "user", "pass"]
  },
  "layout": [
    {
      "type": "section",
      "title": "Basic Configuration",
      "expandable": true,
      "expanded": true,
      "items": [
        "name",
        "host",
        "user",
        "pass"
      ]
    },
    {
      "type": "section", 
      "title": "Device Settings",
      "expandable": true,
      "expanded": true,
      "items": [
        "doorSwitchNumber",
        "enableDoorbell",
        "deviceType",
        "protocol",
        "verifySSL"
      ]
    },
    {
      "type": "section",
      "title": "Video Configuration", 
      "expandable": true,
      "expanded": true,
      "items": [
        "videoQuality",
        "snapshotRefreshInterval"
      ]
    }
  ]
}